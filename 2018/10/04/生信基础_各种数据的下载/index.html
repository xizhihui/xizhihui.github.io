<!DOCTYPE html>
<html>
<head>
	<title>XZH's Notes</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="author" content="xizhihui" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" type="text/css" href="/statics/reset.css">
	<link rel="stylesheet" type="text/css" href="/statics/header_footer.css"></link>
	<link rel="stylesheet" type="text/css" href="/statics/default.css">
	<link rel="stylesheet" type="text/css" href="/statics/main.css">
</head>
<body>
	<header class="Header">
		<nav>
			<h3>XZH</h3>
			<ul>
				<li><a href="/index.html#Timeline">Timeline</a></li><li><a href="/index.html#Category">Category</a></li><li><a href="/index.html#Tags">Tags</a></li><li><a href="/index.html#About">About</a></li>
			</ul>
		</nav>
	</header>
	<div class="Motto">
		<h2>XZH's Notes</h2>
		<h4>The future comes for you ~ ~ ~</h4>
	</div>

	<main>
		<nav id="table"></nav>
		<content id="content" class="content">
			<h2 id="_1">第四节 各种数据的下载</h2>
<h2 id="_2">一、三大数据库版本对应情况</h2>
<table>
<thead>
<tr>
<th>NCBI</th>
<th>UCSC</th>
<th>Ensemble</th>
</tr>
</thead>
<tbody>
<tr>
<td>GRCh36</td>
<td>hg18</td>
<td>ENSEMBL release_52</td>
</tr>
<tr>
<td>GRCh37</td>
<td>hg19</td>
<td>ENSEMBL release_59/61/64/68/69/75</td>
</tr>
<tr>
<td>GRCh38</td>
<td>hg38</td>
<td>ENSEMBL release_76/77/78/80/81/82</td>
</tr>
</tbody>
</table>
<h2 id="srasrr">二、SRA/SRR数据</h2>
<p>上EBI网站(https://www.ebi.ac.uk/ )查找数据的SRR,然后使用aspera下载fastq.gz原始数据</p>
<div class="codehilite"><pre><span></span><span class="c1"># .openssh不可用则改用.putty的文件</span>
<span class="c1"># 注意nohup &amp; 之前的那个点&quot;.&quot;, 是给ascp用的</span>
<span class="nv">ascp</span><span class="o">=</span>~/.aspera/connect/bin/ascp
<span class="nv">ssh_key</span><span class="o">=</span>~/.aspera/connect/etc/asperaweb_id_dsa.openssh
nohup <span class="nv">$ascp</span> -P <span class="m">33001</span> -i <span class="nv">$ssh_key</span> <span class="se">\</span>
    era-fasp@fasp.sra.ebi.ac.uk:/vol1/fastq/SRR404/000/SRR4041970/SRR4041970_1.fastq.gz . <span class="p">&amp;</span>

<span class="c1"># 数据库对应的地址</span>
NCBI: anonftp@ftp-private.ncbi.nlm.nih.gov:genomes/
EBI: era-fasp@fasp.sra.ebi.ac.uk:/vol1/

<span class="c1"># sra-tools::prefetch accession</span>
</pre></div>


<h2 id="geo">三、GEO数据</h2>
<p>使用GEOquery包进行下载.</p>
<div class="codehilite"><pre><span></span># 使用GDS858的ID下载
GDS = getGEO(&#39;GDS858&#39;, destdir=&#39;.&#39;)
expr_matrix = Table(GDS)    #得到表达矩阵
Des_info = Meta(GDS)        #得到描述信息(metadata)

# 使用GSE1009的ID下载
# 返回的是含expressionSet对象的list
genes = geneNames(GSE[[1]])     # 得到gene名, geneNames是biobase包里面的
samples = sampleNames(GSE[[1]]) # 得到样品名
pdata = pData(GSE[[1]])         # 得到描述信息(metadata)
expr_matrix = exprs(GSE[[1]])   # 得到表达矩阵

# GPL16699的ID下载
Des_info = Meta(GPL)        # 得到描述信息
Annotation = Table(GPL)     # 得到芯片注释信息(geneID-probeID)

# 下载原始数据
rawdata = getGEOSuppFiles(GSE1009)
</pre></div>


<h2 id="tcga">四、TCGA</h2>
<blockquote>
<p><a href="https://xenabrowser.net/datapages/">xenabrowser</a>整合了TCGA的数据,可以直接选择下载</p>
</blockquote>
<p>先从TCGA选择数据,然后下载对应的manifest进行下载.</p>
<div class="codehilite"><pre><span></span>TCGA：https://cancergenome.nih.gov/
gdc-client.exe download -m gdc_manifest_20180516_053841.txt -d tcgadata
</pre></div>


<h2 id="_3">五、参考基因组及注释</h2>
<blockquote>
<p>如果浏览器无法访问,将ftp:改成http:即可  </p>
</blockquote>
<ul>
<li>UCSC Table Browser：  http://genome.ucsc.edu/cgi-bin/hgTables?hgsid=679534527_eRMIpVLpdUvIprCRZP6InFABs6gX</li>
<li>NCBI ftp：            ftp://ftp.ncbi.nlm.nih.gov/  </li>
<li>EMBL ftp：            ftp://ftp.ensembl.org/pub/,
                        ftp://ftp.ensembl.org/pub/release-86/gtf/homo_sapiens</li>
<li>GCD:                  http://www.gencodegenes.org/</li>
<li>指定基因(batch entrezhttps)://www.ncbi.nlm.nih.gov/sites/batchentrez</li>
<li>植物参考基因组(phytozome):https://phytozome.jgi.doe.gov/pz/portal.html</li>
<li>小鼠基因组(MGI):      http://www.informatics.jax.org/</li>
<li>拟南芥(ZFIN):         https://zfin.org/</li>
<li>DDBJ</li>
<li>Gramene</li>
</ul>
<div class="codehilite"><pre><span></span><span class="c1"># entrez 下载</span>
<span class="c1"># 1. 准备好accession或identifier文件</span>
<span class="c1"># 2. 选择数据类型</span>
<span class="c1"># 3. 上传准备好的文件, 点击Retrieve按钮获取即可</span>
</pre></div>


<h2 id="_4">六、其他</h2>
<ol>
<li>
<p>水稻的参考基因组和注释</p>
</li>
<li>
<p>参考基因组: http://rice.plantbiology.msu.edu/pub/data/Eukaryotic_Projects/o_sativa/annotation_dbs/pseudomolecules/version_7.0/all.dir/all.con</p>
</li>
<li>
<p>注释: http://rice.plantbiology.msu.edu/pub/data/Eukaryotic_Projects/o_sativa/annotation_dbs/pseudomolecules/version_7.0/all.dir/all.gff3</p>
</li>
<li>
<p>拟南芥</p>
</li>
<li>
<p>参考转录组,cDNA<br />
ftp://ftp.ensemblgenomes.org/pub/plants/release-28/fasta/arabidopsis_thaliana/cdna/Arabidopsis_thaliana.TAIR10.28.cdna.all.fa.gz</p>
</li>
<li>参考基因组,genome<br />
ftp://ftp.ensemblgenomes.org/pub/plants/release-28/fasta/arabidopsis_thaliana/dna/Arabidopsis_thaliana.TAIR10.28.dna.genome.fa.gz</li>
<li>注释,gff3<br />
ftp://ftp.ensemblgenomes.org/pub/plants/release-28/gff3/arabidopsis_thaliana/Arabidopsis_thaliana.TAIR10.28.gff3.gz  </li>
<li>注释,gtf<br />
ftp://ftp.ensemblgenomes.org/pub/plants/release-28/gtf/arabidopsis_thaliana/Arabidopsis_thaliana.TAIR10.28.gtf.gz</li>
</ol>
		</content>

	</main>
	<footer>
		<p> Powered by xizhihui </p>
		<p> Thanks to <a href="https://www.hifreud.com/">hifreud</a> the theme is learned from his site. </p>
	</footer>

<script type="text/javascript" src="/js/index.json"></script>
<script type="text/javascript" src="/js/category.json"></script>
<script type="text/javascript" src="/js/tags.json"></script>
<script type="text/javascript" src="/js/about.json"></script>
<script type="text/javascript" src="/js/index.js"></script>
<script type="text/javascript">
	// listen to click event on navigator in header
	// document
	// 	.querySelector("div#head_right ul")
	// 	.addEventListener("click", change_page)
	var table = [['h2', '_1', '第四节 各种数据的下载'], ['h2', '_2', '一、三大数据库版本对应情况'], ['h2', 'srasrr', '二、SRA/SRR数据'], ['h2', 'geo', '三、GEO数据'], ['h2', 'tcga', '四、TCGA'], ['h2', '_3', '五、参考基因组及注释'], ['h2', '_4', '六、其他']]
	var html = format_article_table(table)
	var table_ele = document.querySelector("main #table")
	table_ele.innerHTML = html
	// window.onload = evt => resize_nav(table_ele)
	adaption(document, window)

</script>
</body>
</html>